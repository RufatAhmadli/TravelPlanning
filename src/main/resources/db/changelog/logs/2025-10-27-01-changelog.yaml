databaseChangeLog:
  - changeSet:
      id: 1761564731406-1-add-trip-pricing-columns
      author: user
      objectQuotingStrategy: QUOTE_ONLY_RESERVED_WORDS
      preConditions:
        onFail: MARK_RAN
        not:
          or:
            - columnExists:
                tableName: trips
                columnName: avg_rating
            - columnExists:
                tableName: trips
                columnName: price
      changes:
        - addColumn:
            tableName: trips
            columns:
              - column:
                  name: avg_rating
                  type: DOUBLE PRECISION
                  defaultValueNumeric: 0.0
                  constraints:
                    nullable: false
                  remarks: "Average rating for the trip"
              - column:
                  name: price
                  type: DOUBLE PRECISION
                  defaultValueNumeric: 0.0
                  constraints:
                    nullable: false
                  remarks: "Price of the trip"
      rollback:
        - dropColumn:
            tableName: trips
            columns:
              - column:
                  name: avg_rating
              - column:
                  name: price